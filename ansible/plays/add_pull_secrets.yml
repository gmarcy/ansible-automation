---

- name: Add pull secrets to openshift cluster
  hosts: cluster_facts
  gather_facts: false
  tags: pull_secrets
  roles:
  - role: add_pull_secrets_to_openshift_config
    pull_secrets:
    - key: 'cp.stg.icr.io'
      username: "{{ hostvars['playbook-secrets']['cp_stg_username'] }}"
      password: "{{ hostvars['playbook-secrets']['cp_stg_password'] }}"
      email: 'unused'
    - key: 'cp.icr.io'
      username: "{{ hostvars['playbook-secrets']['cp_username'] }}"
      password: "{{ hostvars['playbook-secrets']['cp_password'] }}"
      email: 'unused'
    - key: 'docker.io'
      username: "{{ hostvars['playbook-secrets']['docker_io_user'] }}"
      password: "{{ hostvars['playbook-secrets']['docker_io_password'] }}"
      email: 'unused'
    - key: 'wasliberty-intops-docker-local.artifactory.swg-devops.com'
      username: "{{ hostvars['playbook-secrets']['na_artifactory']['user'] }}"
      password: "{{ hostvars['playbook-secrets']['na_artifactory']['token'] }}"
      email: 'unused'
    - key: 'hyc-cloud-private-daily-docker-local.artifactory.swg-devops.com'
      username: "{{ hostvars['playbook-secrets']['na_artifactory']['user'] }}"
      password: "{{ hostvars['playbook-secrets']['na_artifactory']['token'] }}"
      email: 'unused'
    when: kubernetes_distro == 'openshift'
